"use strict";(self.webpackChunkangular_exemplo=self.webpackChunkangular_exemplo||[]).push([[158],{3158:(se,A,l)=>{l.r(A),l.d(A,{InternacionalizacaoModule:()=>te,createTranslateLoader:()=>G});var B=l(9808),P=l(6609),a=l(5e3),u=l(9646),J=l(8306),M=l(576);function g(n){return!!n&&(n instanceof J.y||(0,M.m)(n.lift)&&(0,M.m)(n.subscribe))}var Y=l(4128),z=l(7272),O=l(9770),L=l(5698),R=l(3151),j=l(4004),H=l(4351),k=l(3900);class p{}let U=(()=>{class n extends p{getTranslation(e){return(0,u.of)({})}}return n.\u0275fac=function(){let i;return function(t){return(i||(i=a.n5z(n)))(t||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class y{}let V=(()=>{class n{handle(e){return e.key}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function C(n,i){if(n===i)return!0;if(null===n||null===i)return!1;if(n!=n&&i!=i)return!0;let s,r,o,e=typeof n;if(e==typeof i&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(i))return!1;for(r in o=Object.create(null),n){if(!C(n[r],i[r]))return!1;o[r]=!0}for(r in i)if(!(r in o)&&void 0!==i[r])return!1;return!0}if(!Array.isArray(i))return!1;if((s=n.length)==i.length){for(r=0;r<s;r++)if(!C(n[r],i[r]))return!1;return!0}}return!1}function h(n){return null!=n}function D(n){return n&&"object"==typeof n&&!Array.isArray(n)}function N(n,i){let e=Object.assign({},n);return D(n)&&D(i)&&Object.keys(i).forEach(t=>{D(i[t])?t in n?e[t]=N(n[t],i[t]):Object.assign(e,{[t]:i[t]}):Object.assign(e,{[t]:i[t]})}),e}class T{}let I=(()=>{class n extends T{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,t){let s;return s="string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e,s}getValue(e,t){let s="string"==typeof t?t.split("."):[t];t="";do{t+=s.shift(),!h(e)||!h(e[t])||"object"!=typeof e[t]&&s.length?s.length?t+=".":e=void 0:(e=e[t],t="")}while(s.length);return e}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(s,r)=>{let o=this.getValue(t,r);return h(o)?o:s}):e}}return n.\u0275fac=function(){let i;return function(t){return(i||(i=a.n5z(n)))(t||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class m{}let x=(()=>{class n extends m{compile(e,t){return e}compileTranslations(e,t){return e}}return n.\u0275fac=function(){let i;return function(t){return(i||(i=a.n5z(n)))(t||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Z{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new a.vpe,this.onLangChange=new a.vpe,this.onDefaultLangChange=new a.vpe}}const S=new a.OlP("USE_STORE"),w=new a.OlP("USE_DEFAULT_LANG"),F=new a.OlP("DEFAULT_LANGUAGE"),E=new a.OlP("USE_EXTEND");let b=(()=>{class n{constructor(e,t,s,r,o,c=!0,f=!1,d=!1,v){this.store=e,this.currentLoader=t,this.compiler=s,this.parser=r,this.missingTranslationHandler=o,this.useDefaultLang=c,this.isolate=f,this.extend=d,this.pending=!1,this._onTranslationChange=new a.vpe,this._onLangChange=new a.vpe,this._onDefaultLangChange=new a.vpe,this._langs=[],this._translations={},this._translationRequests={},v&&this.setDefaultLang(v)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);void 0!==t?(null==this.defaultLang&&(this.defaultLang=e),t.pipe((0,L.q)(1)).subscribe(s=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return(0,u.of)(this.translations[e]);let t=this.retrieveTranslations(e);return void 0!==t?(this.currentLang||(this.currentLang=e),t.pipe((0,L.q)(1)).subscribe(s=>{this.changeLang(e)}),t):(this.changeLang(e),(0,u.of)(this.translations[e]))}retrieveTranslations(e){let t;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}getTranslation(e){this.pending=!0;const t=this.currentLoader.getTranslation(e).pipe((0,R.d)(1),(0,L.q)(1));return this.loadingTranslations=t.pipe((0,j.U)(s=>this.compiler.compileTranslations(s,e)),(0,R.d)(1),(0,L.q)(1)),this.loadingTranslations.subscribe({next:s=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},s),this.translations[e]):s,this.updateLangs(),this.pending=!1},error:s=>{this.pending=!1}}),t}setTranslation(e,t,s=!1){t=this.compiler.compileTranslations(t,e),this.translations[e]=(s||this.extend)&&this.translations[e]?N(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,t,s){let r;if(t instanceof Array){let o={},c=!1;for(let f of t)o[f]=this.getParsedResult(e,f,s),g(o[f])&&(c=!0);if(c){const f=t.map(d=>g(o[d])?o[d]:(0,u.of)(o[d]));return(0,Y.D)(f).pipe((0,j.U)(d=>{let v={};return d.forEach((ne,ae)=>{v[t[ae]]=ne}),v}))}return o}if(e&&(r=this.parser.interpolate(this.parser.getValue(e,t),s)),void 0===r&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),s)),void 0===r){let o={key:t,translateService:this};void 0!==s&&(o.interpolateParams=s),r=this.missingTranslationHandler.handle(o)}return void 0!==r?r:t}get(e,t){if(!h(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,H.b)(s=>g(s=this.getParsedResult(s,e,t))?s:(0,u.of)(s)));{let s=this.getParsedResult(this.translations[this.currentLang],e,t);return g(s)?s:(0,u.of)(s)}}getStreamOnTranslationChange(e,t){if(!h(e)||!e.length)throw new Error('Parameter "key" required');return(0,z.z)((0,O.P)(()=>this.get(e,t)),this.onTranslationChange.pipe((0,k.w)(s=>{const r=this.getParsedResult(s.translations,e,t);return"function"==typeof r.subscribe?r:(0,u.of)(r)})))}stream(e,t){if(!h(e)||!e.length)throw new Error('Parameter "key" required');return(0,z.z)((0,O.P)(()=>this.get(e,t)),this.onLangChange.pipe((0,k.w)(s=>{const r=this.getParsedResult(s.translations,e,t);return g(r)?r:(0,u.of)(r)})))}instant(e,t){if(!h(e)||!e.length)throw new Error('Parameter "key" required');let s=this.getParsedResult(this.translations[this.currentLang],e,t);if(g(s)){if(e instanceof Array){let r={};return e.forEach((o,c)=>{r[e[c]]=e[c]}),r}return e}return s}set(e,t,s=this.currentLang){this.translations[s][e]=this.compiler.compile(t,s),this.updateLangs(),this.onTranslationChange.emit({lang:s,translations:this.translations[s]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Z),a.LFG(p),a.LFG(m),a.LFG(T),a.LFG(y),a.LFG(w),a.LFG(S),a.LFG(E),a.LFG(F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),_=(()=>{class n{constructor(e,t){this.translate=e,this._ref=t,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,t,s){let r=o=>{this.value=void 0!==o?o:e,this.lastKey=e,this._ref.markForCheck()};if(s){let o=this.translate.getParsedResult(s,e,t);g(o.subscribe)?o.subscribe(r):r(o)}this.translate.get(e,t).subscribe(r)}transform(e,...t){if(!e||!e.length)return e;if(C(e,this.lastKey)&&C(t,this.lastParams))return this.value;let s;if(h(t[0])&&t.length)if("string"==typeof t[0]&&t[0].length){let r=t[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{s=JSON.parse(r)}catch(o){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${t[0]}`)}}else"object"==typeof t[0]&&!Array.isArray(t[0])&&(s=t[0]);return this.lastKey=e,this.lastParams=t,this.updateValue(e,s),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(r=>{this.lastKey&&r.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,s,r.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(r=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,s,r.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,s))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(b,16),a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),$=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:p,useClass:U},e.compiler||{provide:m,useClass:x},e.parser||{provide:T,useClass:I},e.missingTranslationHandler||{provide:y,useClass:V},Z,{provide:S,useValue:e.isolate},{provide:w,useValue:e.useDefaultLang},{provide:E,useValue:e.extend},{provide:F,useValue:e.defaultLanguage},b]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:p,useClass:U},e.compiler||{provide:m,useClass:x},e.parser||{provide:T,useClass:I},e.missingTranslationHandler||{provide:y,useClass:V},{provide:S,useValue:e.isolate},{provide:w,useValue:e.useDefaultLang},{provide:E,useValue:e.extend},{provide:F,useValue:e.defaultLanguage},b]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const X=function(){return{name:"Angular"}},W=[{path:"",component:(()=>{class n{constructor(e){this.translateService=e}changeLanguage(e){this.translateService.use(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-internacionalizacao"]],decls:17,vars:15,consts:[[1,"text-center"],[1,"container-fluid","py-3","text-center"],[1,"btn-group","btn-group-sm","py-5"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"]],template:function(e,t){1&e&&(a.TgZ(0,"h4",0),a._uU(1,"Internacionaliza\xe7\xe3o (i18n)"),a.qZA(),a.TgZ(2,"div",1),a.TgZ(3,"div",2),a.TgZ(4,"button",3),a.NdJ("click",function(){return t.changeLanguage("de-DE")}),a._uU(5,"Deutschland"),a.qZA(),a.TgZ(6,"button",3),a.NdJ("click",function(){return t.changeLanguage("en-US")}),a._uU(7,"English"),a.qZA(),a.TgZ(8,"button",3),a.NdJ("click",function(){return t.changeLanguage("es-ES")}),a._uU(9,"Espa\xf1ol"),a.qZA(),a.TgZ(10,"button",3),a.NdJ("click",function(){return t.changeLanguage("fr-FR")}),a._uU(11,"Franc\xe9s"),a.qZA(),a.TgZ(12,"button",3),a.NdJ("click",function(){return t.changeLanguage("pt-BR")}),a._uU(13,"Portugu\xeas"),a.qZA(),a.qZA(),a.TgZ(14,"h6"),a._uU(15),a.ALo(16,"translate"),a.qZA(),a.qZA()),2&e&&(a.xp6(4),a.ekj("active","de-DE"===t.translateService.currentLang),a.xp6(2),a.ekj("active",!t.translateService.currentLang||"en-US"===t.translateService.currentLang),a.xp6(2),a.ekj("active","es-ES"===t.translateService.currentLang),a.xp6(2),a.ekj("active","fr-FR"===t.translateService.currentLang),a.xp6(2),a.ekj("active","pt-BR"===t.translateService.currentLang),a.xp6(3),a.Oqu(a.xi3(16,11,"hello",a.DdM(14,X))))},pipes:[_],styles:[""]}),n})()}];let q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[P.Bz.forChild(W)],P.Bz]}),n})();class Q{constructor(i,e="/assets/i18n/",t=".json"){this.http=i,this.prefix=e,this.suffix=t}getTranslation(i){return this.http.get(`${this.prefix}${i}${this.suffix}`)}}var K=l(520),ee=l(3075);function G(n){return new Q(n,"./assets/i18n/",".json")}let te=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[B.ez,q,K.JF,ee.u5,$.forRoot({loader:{provide:p,useFactory:G,deps:[K.eN]},defaultLanguage:"en-US"})]]}),n})()}}]);