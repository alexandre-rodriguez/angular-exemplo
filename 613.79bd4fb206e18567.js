"use strict";(self.webpackChunkangular_exemplo=self.webpackChunkangular_exemplo||[]).push([[613],{9613:(ue,T,u)=>{u.r(T),u.d(T,{LoggerInternalModule:()=>ce});var E=u(9808),M=u(6609),o=u(5e3),p=u(520),b=u(9646),U=u(8306),Z=u(576),w=u(9300),R=u(4004),j=u(4482),I=u(5403),B=u(4671),K=u(5963),H=u(8421),A=u(3151),$=u(262),_=u(5698),k={},D={};function J(t){for(var s=[],e=0,r=0,n=0;n<t.length;n+=1){var i=k[t[n]];if(void 0===i)throw new Error("Invalid character ("+t[n]+")");var l=32&i;if(r+=(i&=31)<<e,l)e+=5;else{var c=1&r;r>>>=1,s.push(c?0===r?-2147483648:-r:r),r=e=0}}return s}"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(t,s){k[t]=s,D[s]=t});const G="TOKEN_LOGGER_CONFIG";class Y{constructor(s){this.config=this._clone(s)}get level(){return this.config.level}get serverLogLevel(){return this.config.serverLogLevel}updateConfig(s){this.config=this._clone(s)}getConfig(){return this._clone(this.config)}_clone(s){const e={level:null};return Object.keys(s).forEach(r=>{e[r]=s[r]}),e}}const C="TOKEN_LOGGER_CONFIG_ENGINE_FACTORY";class z{provideConfigEngine(s){return new Y(s)}}const m="TOKEN_LOGGER_MAPPER_SERVICE";let Q=(()=>{class t{constructor(e){this.httpBackend=e,this.sourceMapCache=new Map,this.logPositionCache=new Map}getLogPosition(e,r){const n=this.getStackLine(e);if(!n)return(0,b.of)({fileName:"",lineNumber:0,columnNumber:0});const i=this.getLocalPosition(n);if(!e.enableSourceMaps)return(0,b.of)(i);const l=this.getSourceMapLocation(n);return this.getSourceMap(l,i)}getStackLine(e){const r=new Error;try{throw r}catch(n){try{let i=4;return r.stack.split("\n")[0].includes(".js:")||(i+=1),r.stack.split("\n")[i+(e.proxiedSteps||0)]}catch(i){return null}}}getLocalPosition(e){const r=e.lastIndexOf("/");let n=e.indexOf(")");n<0&&(n=void 0);const l=e.substring(r+1,n).split(":");return 3===l.length?{fileName:l[0],lineNumber:+l[1],columnNumber:+l[2]}:{fileName:"unknown",lineNumber:0,columnNumber:0}}getTranspileLocation(e){let r=e.indexOf("(");r<0&&(r=e.lastIndexOf("@"),r<0&&(r=e.lastIndexOf(" ")));let n=e.indexOf(")");return n<0&&(n=void 0),e.substring(r+1,n)}getSourceMapLocation(e){const r=this.getTranspileLocation(e),n=r.substring(0,r.lastIndexOf(":"));return n.substring(0,n.lastIndexOf(":"))+".map"}getMapping(e,r){let n=0,i=0,l=0;const c=e.mappings.split(";");for(let g=0;g<c.length;g++){let f=0;const d=c[g].split(",");for(let h=0;h<d.length;h++){const v=J(d[h]);if(v.length>=4&&(f+=v[0],n+=v[1],i+=v[2],l+=v[3]),g===r.lineNumber){if(f===r.columnNumber)return{fileName:e.sources[n],lineNumber:i,columnNumber:l};if(h+1===d.length)return{fileName:e.sources[n],lineNumber:i,columnNumber:0}}}}return{fileName:"unknown",lineNumber:0,columnNumber:0}}getSourceMap(e,r){const n=new p.aW("GET",e),i=`${r.fileName}:${r.lineNumber}:${r.columnNumber}`;if(this.logPositionCache.has(i))return this.logPositionCache.get(i);this.sourceMapCache.has(e)||(this.httpBackend?this.sourceMapCache.set(e,this.httpBackend.handle(n).pipe((0,w.h)(c=>c instanceof p.Zn),(0,R.U)(c=>c.body),function V(t=1/0){let s;s=t&&"object"==typeof t?t:{count:t};const{count:e=1/0,delay:r,resetOnSuccess:n=!1}=s;return e<=0?B.y:(0,j.e)((i,l)=>{let g,c=0;const f=()=>{let d=!1;g=i.subscribe(new I.Q(l,h=>{n&&(c=0),l.next(h)},void 0,h=>{if(c++<e){const v=()=>{g?(g.unsubscribe(),g=null,f()):d=!0};if(null!=r){const ae="number"==typeof r?(0,K.H)(r):(0,H.Xf)(r(h,c)),X=new I.Q(l,()=>{X.unsubscribe(),v()},()=>{l.complete()});ae.subscribe(X)}else v()}else l.error(h)})),d&&(g.unsubscribe(),g=null,f())};f()})}(3),(0,A.d)(1))):(console.error("NGXLogger : Can't get sourcemap because HttpBackend is not provided. You need to import HttpClientModule"),this.sourceMapCache.set(e,(0,b.of)(null))));const l=this.sourceMapCache.get(e).pipe((0,R.U)(c=>c?this.getMapping(c,r):r),(0,$.K)(()=>(0,b.of)(r)),(0,A.d)(1));return this.logPositionCache.set(i,l),l}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(p.jN,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const S="TOKEN_LOGGER_METADATA_SERVICE";let x=(()=>{class t{constructor(e){this.datePipe=e}getMetadata(e,r,n,i){const l={level:e,additional:i};return l.message=n&&"function"==typeof n?n():n,l.timestamp=r.timestampFormat?this.datePipe.transform(new Date,r.timestampFormat):(new Date).toISOString(),l}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(E.uU))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const y="TOKEN_LOGGER_RULES_SERVICE";let q=(()=>{class t{shouldCallWriter(e,r,n,i){return!r.disableConsoleLogging&&e>=r.level}shouldCallServer(e,r,n,i){return!!r.serverLoggingUrl&&e>=r.serverLogLevel}shouldCallMonitor(e,r,n,i){return this.shouldCallWriter(e,r,n,i)||this.shouldCallServer(e,r,n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const N="TOKEN_LOGGER_SERVER_SERVICE";let ee=(()=>{class t{constructor(e){this.httpBackend=e}secureErrorObject(e){return null==e?void 0:e.stack}secureAdditionalParameters(e){return null==e?null:e.map((r,n)=>{try{return r instanceof Error?this.secureErrorObject(r):("object"==typeof r&&JSON.stringify(r),r)}catch(i){return`The additional[${n}] value could not be parsed using JSON.stringify().`}})}secureMessage(e){try{if(e instanceof Error)return this.secureErrorObject(e);"string"!=typeof e&&(e=JSON.stringify(e,null,2))}catch(r){e='The provided "message" value could not be parsed with JSON.stringify().'}return e}logOnServer(e,r,n){const i=new p.aW("POST",e,r,n||{});return this.httpBackend?this.httpBackend.handle(i).pipe((0,w.h)(l=>l instanceof p.Zn),(0,R.U)(l=>l.body)):(console.error("NGXLogger : Can't log on server because HttpBackend is not provided. You need to import HttpClientModule"),(0,b.of)(null))}customiseRequestBody(e){return e}sendToServer(e,r){const n=Object.assign({},e);n.additional=this.secureAdditionalParameters(n.additional),n.message=this.secureMessage(n.message);const i=this.customiseRequestBody(n),l=r.customHttpHeaders||new p.WM;l.has("Content-Type")||l.set("Content-Type","application/json"),this.logOnServer(r.serverLoggingUrl,i,{headers:l,params:r.customHttpParams||new p.LE,responseType:r.httpResponseType||"json",withCredentials:r.withCredentials||!1}).pipe((0,$.K)(c=>(console.error("NGXLogger: Failed to log on server",c),function P(t,s){const e=(0,Z.m)(t)?t:()=>t,r=n=>n.error(e());return new U.y(s?n=>s.schedule(r,0,n):r)}(c)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(p.jN,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const L="TOKEN_LOGGER_WRITER_SERVICE";var a=(()=>{return(t=a||(a={}))[t.TRACE=0]="TRACE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.LOG=3]="LOG",t[t.WARN=4]="WARN",t[t.ERROR=5]="ERROR",t[t.FATAL=6]="FATAL",t[t.OFF=7]="OFF",a;var t})();const re=["purple","teal","gray","gray","red","red","red"];let te=(()=>{class t{constructor(e){this.platformId=e,this.isIE=(0,E.NF)(e)&&navigator&&navigator.userAgent&&!(-1===navigator.userAgent.indexOf("MSIE")&&!navigator.userAgent.match(/Trident\//)&&!navigator.userAgent.match(/Edge\//)),this.logFunc=this.isIE?this.logIE.bind(this):this.logModern.bind(this)}prepareMetaString(e,r){return`${e.timestamp} ${a[e.level]} ${!0===r.disableFileDetails?"":`[${e.fileName}:${e.lineNumber}:${e.columnNumber}]`}`}getColor(e,r){var n;const i=null!==(n=r.colorScheme)&&void 0!==n?n:re;if(e.level!==a.OFF)return i[e.level]}logIE(e,r,n){const i=e.additional||[];switch(e.level){case a.WARN:console.warn(`${n} `,e.message,...i);break;case a.ERROR:case a.FATAL:console.error(`${n} `,e.message,...i);break;case a.INFO:console.info(`${n} `,e.message,...i);break;default:console.log(`${n} `,e.message,...i)}}logModern(e,r,n){const i=this.getColor(e,r),l=e.additional||[];switch(e.level){case a.WARN:console.warn(`%c${n}`,`color:${i}`,e.message,...l);break;case a.ERROR:case a.FATAL:console.error(`%c${n}`,`color:${i}`,e.message,...l);break;case a.INFO:console.info(`%c${n}`,`color:${i}`,e.message,...l);break;case a.DEBUG:console.debug(`%c${n}`,`color:${i}`,e.message,...l);break;default:console.log(`%c${n}`,`color:${i}`,e.message,...l)}}writeMessage(e,r){const n=this.prepareMetaString(e,r);this.logFunc(e,r,n)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.Lbi))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{constructor(e,r,n,i,l,c,g){this.metadataService=n,this.ruleService=i,this.mapperService=l,this.writerService=c,this.serverService=g,this.configEngine=r.provideConfigEngine(e)}get level(){return this.configEngine.level}get serverLogLevel(){return this.configEngine.serverLogLevel}trace(e,...r){this._log(a.TRACE,e,r)}debug(e,...r){this._log(a.DEBUG,e,r)}info(e,...r){this._log(a.INFO,e,r)}log(e,...r){this._log(a.LOG,e,r)}warn(e,...r){this._log(a.WARN,e,r)}error(e,...r){this._log(a.ERROR,e,r)}fatal(e,...r){this._log(a.FATAL,e,r)}setCustomHttpHeaders(e){const r=this.getConfigSnapshot();r.customHttpHeaders=e,this.updateConfig(r)}setCustomParams(e){const r=this.getConfigSnapshot();r.customHttpParams=e,this.updateConfig(r)}setWithCredentialsOptionValue(e){const r=this.getConfigSnapshot();r.withCredentials=e,this.updateConfig(r)}registerMonitor(e){this._loggerMonitor=e}updateConfig(e){this.configEngine.updateConfig(e)}getConfigSnapshot(){return this.configEngine.getConfig()}_log(e,r,n=[]){const i=this.configEngine.getConfig(),l=this.ruleService.shouldCallWriter(e,i,r,n),c=this.ruleService.shouldCallServer(e,i,r,n),g=this.ruleService.shouldCallMonitor(e,i,r,n);if(!l&&!c&&!g)return;const f=this.metadataService.getMetadata(e,i,r,n);this.mapperService.getLogPosition(i,f).pipe((0,_.q)(1)).subscribe(d=>{d&&(f.fileName=d.fileName,f.lineNumber=d.lineNumber,f.columnNumber=d.columnNumber),g&&this._loggerMonitor&&this._loggerMonitor.onLog(f,i),l&&this.writerService.writeMessage(f,i),c&&this.serverService.sendToServer(f,i)})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(G),o.LFG(C),o.LFG(S),o.LFG(y),o.LFG(m),o.LFG(L),o.LFG(N))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ne=(()=>{class t{constructor(e,r,n,i,l,c){this.configEngineFactory=e,this.metadataService=r,this.ruleService=n,this.mapperService=i,this.writerService=l,this.serverService=c}create(e,r,n,i){const l=new F(e,this.configEngineFactory,this.metadataService,this.ruleService,i||this.mapperService,this.writerService,r||this.serverService);return n&&l.registerMonitor(n),l}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(C),o.LFG(S),o.LFG(y),o.LFG(m),o.LFG(L),o.LFG(N))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oe=(()=>{class t{static forRoot(e,r){if(r||(r={}),r.configProvider){if(r.configProvider.provide!==G)throw new Error(`Wrong injection token for configProvider, it should be ${G} and you used ${r.configProvider.provide}`)}else r.configProvider={provide:G,useValue:e||{}};if(r.configEngineFactoryProvider){if(r.configEngineFactoryProvider.provide!==C)throw new Error(`Wrong injection token for configEngineFactoryProvider, it should be '${C}' and you used '${r.configEngineFactoryProvider.provide}'`)}else r.configEngineFactoryProvider={provide:C,useClass:z};if(r.metadataProvider){if(r.metadataProvider.provide!==S)throw new Error(`Wrong injection token for metadataProvider, it should be '${S}' and you used '${r.metadataProvider.provide}'`)}else r.metadataProvider={provide:S,useClass:x};if(r.ruleProvider){if(r.ruleProvider.provide!==y)throw new Error(`Wrong injection token for ruleProvider, it should be '${y}' and you used '${r.ruleProvider.provide}'`)}else r.ruleProvider={provide:y,useClass:q};if(r.mapperProvider){if(r.mapperProvider.provide!==m)throw new Error(`Wrong injection token for mapperProvider, it should be '${m}' and you used '${r.mapperProvider.provide}'`)}else r.mapperProvider={provide:m,useClass:Q};if(r.writerProvider){if(r.writerProvider.provide!==L)throw new Error(`Wrong injection token for writerProvider, it should be '${L}' and you used '${r.writerProvider.provide}'`)}else r.writerProvider={provide:L,useClass:te};if(r.serverProvider){if(r.serverProvider.provide!==N)throw new Error(`Wrong injection token for serverProvider, it should be '${N}' and you used '${r.writerProvider.provide}'`)}else r.serverProvider={provide:N,useClass:ee};return{ngModule:t,providers:[F,r.configProvider,r.configEngineFactoryProvider,r.metadataProvider,r.ruleProvider,r.mapperProvider,r.writerProvider,r.serverProvider,ne]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[E.uU],imports:[[E.ez]]}),t})();const ie=[{path:"",component:(()=>{class t{constructor(e){this.logger=e}ngOnInit(){}showTrace(){this.logger.trace("TRACE level")}showDebug(){this.logger.debug("DEBUG level")}showInfo(){this.logger.info("INFO level")}showWarn(){this.logger.warn("WARN level")}showError(){this.logger.error("ERROR level")}showFatal(){this.logger.fatal("FATAL level")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(F))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-logger"]],decls:21,vars:0,consts:[[1,"text-center"],[1,"container-fluid","py-3"],[1,"d-grid","gap-2","col-4","mt-4","mx-auto"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],["type","button",1,"btn","btn-sm","btn-info",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",3,"click"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"mt-4","text-center"],[1,"fw-bold","me-1"],[1,"fst-italic"]],template:function(e,r){1&e&&(o.TgZ(0,"h4",0),o._uU(1,"Logger"),o.qZA(),o.TgZ(2,"div",1),o.TgZ(3,"div",2),o.TgZ(4,"button",3),o.NdJ("click",function(){return r.showTrace()}),o._uU(5,"Trace"),o.qZA(),o.TgZ(6,"button",4),o.NdJ("click",function(){return r.showDebug()}),o._uU(7,"Debug"),o.qZA(),o.TgZ(8,"button",5),o.NdJ("click",function(){return r.showInfo()}),o._uU(9,"Info"),o.qZA(),o.TgZ(10,"button",6),o.NdJ("click",function(){return r.showWarn()}),o._uU(11,"Warn"),o.qZA(),o.TgZ(12,"button",7),o.NdJ("click",function(){return r.showError()}),o._uU(13,"Error"),o.qZA(),o.TgZ(14,"button",8),o.NdJ("click",function(){return r.showFatal()}),o._uU(15,"Fatal"),o.qZA(),o.qZA(),o.TgZ(16,"p",9),o.TgZ(17,"span",10),o._uU(18,"Note:"),o.qZA(),o.TgZ(19,"span",11),o._uU(20,"See the messages displayed in the browser console."),o.qZA(),o.qZA(),o.qZA())},styles:[""]}),t})()}];let se=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[M.Bz.forChild(ie)],M.Bz]}),t})();const O=u(2340).N.logger;let ce=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[E.ez,se,oe.forRoot({level:a[O.level],serverLogLevel:a[O.serverLevel],serverLoggingUrl:O.serverUrl})]]}),t})()}}]);